<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BLACK ROOM</title>

<style>
body {
  margin: 0;
  background: radial-gradient(circle at top, #1a1a1a, #000);
  color: #fff;
  font-family: Pretendard, system-ui, sans-serif;
  display: flex;
  justify-content: center;
}

.app {
  width: 100%;
  max-width: 420px;
}

/* ë°°ë„ˆ */
.banner-main {
  background: linear-gradient(90deg, #ff004c, #ff9900);
  padding: 16px;
  text-align: center;
  font-weight: 900;
  letter-spacing: 3px;
}

.banner-sub {
  background: #111;
  padding: 8px;
  text-align: center;
  font-size: 12px;
  color: #ffb347;
}

/* ì”ì•¡ */
.balance {
  text-align: center;
  margin: 14px 0;
  font-size: 18px;
  font-weight: bold;
}

/* ë²„íŠ¼ & ì…ë ¥ */
input, .btn {
  width: 100%;
  padding: 16px;
  margin-top: 14px;
  font-size: 16px;
  border-radius: 8px;
  box-sizing: border-box;
}

input {
  background: #0d0d0d;
  border: 1px solid #333;
  color: #fff;
}

.btn {
  background: #ff004c;
  border: none;
  color: #fff;
  font-weight: bold;
}

.btn.gray {
  background: #222;
}

.btn.small {
  padding: 12px;
  font-size: 14px;
}

/* í™”ë©´ */
.screen {
  display: none;
  padding: 18px;
}
.screen.active {
  display: block;
}

/* ì—°ìŠ¹ */
.streak {
  text-align: center;
  margin-top: 8px;
  color: gold;
  font-weight: bold;
}

/* ë¡œê·¸ */
.log {
  margin: 18px;
  background: #0d0d0d;
  padding: 12px;
  max-height: 180px;
  overflow-y: auto;
  font-size: 13px;
}
.log div {
  margin-bottom: 6px;
  color: #bbb;
}

/* íŒì—… */
.popup {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.92);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
}
.popup-box {
  background: #111;
  border: 2px solid #ff004c;
  padding: 26px;
  width: 85%;
  text-align: center;
}

/* íŒŒì‚° */
.lock {
  text-align: center;
  padding: 60px 20px;
  color: red;
  font-weight: bold;
  font-size: 20px;
}

/* ì˜¬ì¸ íš¨ê³¼ */
.flash {
  animation: flash 0.3s 3;
}
@keyframes flash {
  0% { background:#000; }
  50% { background:#ff004c; }
  100% { background:#000; }
}
</style>
</head>

<body>

<div class="popup" id="popup">
  <div class="popup-box">
    <h2>BLACK ROOM</h2>
    <p>ê³ ìœ„í—˜ Â· ê³ ìˆ˜ìµ<br>ëª¨ë“  ì„ íƒì€ ë³¸ì¸ì˜ ì±…ì„ì…ë‹ˆë‹¤</p>
    <button class="btn" onclick="start()">ENTER</button>
  </div>
</div>

<div class="app">

  <div class="banner-main">BLACK ROOM</div>
  <div class="banner-sub" id="online"></div>

  <div id="setup" class="screen active">
    <input id="initMoney" type="number" placeholder="ë³´ìœ  í¬ì¸íŠ¸ ì…ë ¥">
    <button class="btn" onclick="choose()">í™€ì§ ì‹œì‘</button>
  </div>

  <div id="game" class="screen">
    <div class="balance">ë³´ìœ  í¬ì¸íŠ¸: <span id="money"></span>P</div>
    <input id="bet" type="number" placeholder="ë°°íŒ… í¬ì¸íŠ¸">
    <button class="btn small gray" onclick="allIn()">ALL IN</button>

    <button class="btn" onclick="play('í™€')">í™€</button>
    <button class="btn gray" onclick="play('ì§')">ì§</button>

    <div class="streak" id="streak"></div>
  </div>

  <div id="lock" class="screen">
    <div class="lock">â›” ACCOUNT SUSPENDED â›”</div>
  </div>

  <div class="log" id="log"></div>

</div>

<script>
let money = 0;
let streak = 0;

function start() {
  popup.style.display = "none";
}

function choose() {
  money = Number(initMoney.value);
  if (money <= 0) return alert("ê¸ˆì•¡ ì…ë ¥");
  setup.classList.remove("active");
  game.classList.add("active");
  update();
}

function update() {
  moneyEl.innerText = money;
}

function allIn() {
  bet.value = money;
}

function play(choice) {
  const b = Number(bet.value);
  if (b <= 0 || b > money) return alert("ë°°íŒ… ì˜¤ë¥˜");

  const answer = Math.random() < 0.5 ? "í™€" : "ì§";
  const win = choice === answer;
  const result = win ? b : -b;

  money += result;
  document.body.classList.toggle("flash", b === money);
  update();

  if (win) streak++; else streak = 0;
  streakEl.innerText = streak > 1 ? `ğŸ”¥ ${streak}ì—°ìŠ¹ ì¤‘` : "";

  log.innerHTML = `<div>[${choice}] â†’ ì •ë‹µ ${answer} (${result}P)</div>` + log.innerHTML;

  if (money <= 0) {
    game.classList.remove("active");
    lock.classList.add("active");
  }
}

/* ê°€ì§œ ì ‘ì†ì */
setInterval(() => {
  online.innerText = `â— LIVE USERS ${Math.floor(Math.random()*3000+1000)}`;
}, 1500);

const moneyEl = document.getElementById("money");
const log = document.getElementById("log");
const streakEl = document.getElementById("streak");
</script>

</body>
</html>
