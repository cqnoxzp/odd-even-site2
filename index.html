<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Mini Casino</title>
<style>
body {
  margin: 0;
  background: #0b0b0b;
  color: #fff;
  font-family: Pretendard, sans-serif;
  display: flex;
  justify-content: center;
}

.app {
  width: 360px;
  padding: 16px;
}

.tab {
  display: flex;
  gap: 8px;
  margin-bottom: 12px;
}

.tab button {
  flex: 1;
  padding: 10px;
  background: #222;
  color: #fff;
  border: none;
  cursor: pointer;
}

.tab button.active {
  background: #c89b3c;
  color: #000;
}

.panel {
  display: none;
}

.panel.active {
  display: block;
}

.box {
  background: #161616;
  padding: 12px;
  border-radius: 8px;
  margin-bottom: 12px;
}

input, button {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  background: #222;
  border: none;
  color: #fff;
}

.result {
  margin-top: 8px;
  font-weight: bold;
  text-align: center;
}

/* ìŠ¬ë¡¯ */
.slot {
  display: flex;
  justify-content: space-between;
  font-size: 32px;
  margin: 12px 0;
}
</style>
</head>
<body>

<div class="app">

  <div class="box">
    ë³´ìœ  í¬ì¸íŠ¸: <span id="point">1000</span>P
    <input id="bet" type="number" placeholder="ë°°íŒ… ê¸ˆì•¡">
  </div>

  <div class="tab">
    <button class="active" onclick="openTab('slot')">ìŠ¬ë¡¯</button>
    <button onclick="openTab('ladder')">ì‚¬ë‹¤ë¦¬</button>
  </div>

  <!-- ìŠ¬ë¡¯ -->
  <div id="slot" class="panel active">
    <div class="slot" id="slotView">â“ â“ â“ â“ â“</div>
    <button onclick="spin()">ìŠ¬ë¡¯ ëŒë¦¬ê¸°</button>
    <div class="result" id="slotResult"></div>
  </div>

  <!-- ì‚¬ë‹¤ë¦¬ -->
  <div id="ladder" class="panel">
    <button onclick="playLadder()">ì‚¬ë‹¤ë¦¬ ì‹¤í–‰</button>
    <div class="result" id="ladderResult"></div>
  </div>

</div>

<script>
let point = 1000;
const symbols = ["ğŸ’", "ğŸ‹", "â­", "ğŸ””"];

function updatePoint() {
  document.getElementById("point").innerText = point;
}

function openTab(name) {
  document.querySelectorAll(".panel").forEach(p => p.classList.remove("active"));
  document.querySelectorAll(".tab button").forEach(b => b.classList.remove("active"));
  document.getElementById(name).classList.add("active");
  event.target.classList.add("active");
}

/* ìŠ¬ë¡¯ */
function spin() {
  const bet = Number(document.getElementById("bet").value);
  if (bet <= 0 || bet > point) return alert("ë°°íŒ… ê¸ˆì•¡ í™•ì¸");

  let result = [];
  for (let i = 0; i < 5; i++) {
    result.push(symbols[Math.floor(Math.random() * symbols.length)]);
  }

  document.getElementById("slotView").innerText = result.join(" ");

  let counts = {};
  result.forEach(s => counts[s] = (counts[s] || 0) + 1);
  let max = Math.max(...Object.values(counts));

  let payout = 0;
  let msg = "";

  if (max === 5) {
    payout = bet * 50;
    msg = "ğŸ‰ 5ê°œ ë™ì¼ (50ë°°)";
  } else if (max === 4) {
    payout = bet * 10;
    msg = "ğŸ”¥ 4ê°œ ë™ì¼ (10ë°°)";
  } else if (max === 3) {
    payout = bet * 2;
    msg = "âœ¨ 3ê°œ ë™ì¼ (2ë°°)";
  } else if (max === 2) {
    payout = -bet;
    msg = "ğŸ’€ 2ê°œ ë™ì¼ (ì‹¤ë°°)";
  } else {
    payout = -bet;
    msg = "âŒ ì‹¤íŒ¨";
  }

  point += payout;
  updatePoint();
  document.getElementById("slotResult").innerText =
    `${msg} / ${payout > 0 ? "+" : ""}${payout}P`;
}

/* ì‚¬ë‹¤ë¦¬ */
function playLadder() {
  const bet = Number(document.getElementById("bet").value);
  if (bet <= 0 || bet > point) return alert("ë°°íŒ… ê¸ˆì•¡ í™•ì¸");

  const rank = Math.floor(Math.random() * 5) + 1;
  let payout = 0;

  switch(rank) {
    case 1: payout = bet * 2; break;
    case 2: payout = bet * 1; break;
    case 3: payout = 0; break;
    case 4: payout = -bet * 1; break;
    case 5: payout = -bet * 2; break;
  }

  point += payout;
  updatePoint();

  document.getElementById("ladderResult").innerText =
    `ê²°ê³¼: ${rank}ë“± / ${payout > 0 ? "+" : ""}${payout}P`;
}

updatePoint();
</script>

</body>
</html>
