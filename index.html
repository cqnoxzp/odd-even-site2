<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>UNDERGROUND</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  background: radial-gradient(circle at top, #1a0000, #000);
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: "Malgun Gothic", Arial, sans-serif;
  color: #ddd;
}

.app {
  width: 420px;
  background: linear-gradient(180deg, #0b0000, #120000);
  border: 1px solid #400;
  border-radius: 6px;
  padding: 22px;
  box-shadow: 0 0 40px rgba(255,0,0,.2);
}

h1 {
  color: #b00000;
  font-size: 28px;
  letter-spacing: 3px;
  text-align: center;
  margin-bottom: 20px;
}

.hidden { display: none; }

input {
  width: 100%;
  padding: 12px;
  background: #000;
  border: 1px solid #400;
  color: #fff;
  margin-bottom: 10px;
}

button {
  background: linear-gradient(180deg, #400, #700);
  border: 1px solid #900;
  color: #fff;
  padding: 12px;
  cursor: pointer;
  font-weight: bold;
}

button:hover {
  background: linear-gradient(180deg, #700, #a00);
}

.buttons {
  display: flex;
  gap: 10px;
  margin-top: 10px;
}

.status {
  background: #000;
  border: 1px solid #400;
  padding: 10px;
  margin-bottom: 10px;
  font-size: 14px;
  color: #f55;
}

.chips button {
  background: #111;
  border: 1px solid #700;
  color: #f99;
  margin: 4px;
  padding: 8px 12px;
}

.result {
  background: #000;
  border: 1px solid #700;
  padding: 12px;
  margin-top: 14px;
  color: #fff;
  font-size: 15px;
}

.back {
  background: #111;
  border: 1px solid #444;
  margin-top: 20px;
  width: 100%;
}
</style>
</head>

<body>
<div class="app">

<!-- 메인 -->
<div id="main">
  <h1>UNDERGROUND</h1>

  <input id="moneyInput" type="number" placeholder="시드 금액">

  <div class="buttons">
    <button onclick="selectGame('odd')">홀짝</button>
    <button onclick="selectGame('ladder')">사다리</button>
  </div>
</div>

<!-- 게임 -->
<div id="game" class="hidden">
  <h1 id="gameTitle"></h1>

  <div class="status">
    보유 금액: <span id="money"></span><br>
    현재 배팅: <span id="bet">0</span>
  </div>

  <!-- 칩 -->
  <div class="chips">
    <button onclick="addBet(100)">100</button>
    <button onclick="addBet(500)">500</button>
    <button onclick="addBet(1000)">1000</button>
    <button onclick="addBet(5000)">5000</button>
  </div>

  <input id="customBet" type="number" placeholder="직접 배팅 금액">
  <button onclick="setCustomBet()">배팅 적용</button>

  <!-- 홀짝 -->
  <div id="oddArea" class="hidden buttons">
    <button onclick="playOddEven('홀')">홀</button>
    <button onclick="playOddEven('짝')">짝</button>
  </div>

  <!-- 사다리 -->
  <div id="ladderArea" class="hidden buttons">
    <button onclick="playLadder(1)">1</button>
    <button onclick="playLadder(2)">2</button>
    <button onclick="playLadder(3)">3</button>
    <button onclick="playLadder(4)">4</button>
    <button onclick="playLadder(5)">5</button>
  </div>

  <div class="result" id="result">대기 중...</div>

  <button class="back" onclick="goMain()">← 메인</button>
</div>

</div>

<script>
let money = 0;
let bet = 0;
let currentGame = "";

function selectGame(game) {
  const m = Number(moneyInput.value);
  if (m <= 0) {
    alert("시드 금액 입력");
    return;
  }

  money = m;
  bet = 0;
  currentGame = game;

  updateStatus();

  main.classList.add("hidden");
  game.classList.remove("hidden");

  oddArea.classList.add("hidden");
  ladderArea.classList.add("hidden");

  gameTitle.innerText = game === "odd" ? "ODD / EVEN" : "LADDER";

  (game === "odd" ? oddArea : ladderArea).classList.remove("hidden");
  result.innerText = "배팅 대기 중...";
}

function addBet(amount) {
  if (bet + amount > money) return alert("잔액 부족");
  bet += amount;
  updateStatus();
}

function setCustomBet() {
  const v = Number(customBet.value);
  if (v <= 0 || v > money) return alert("잘못된 금액");
  bet = v;
  updateStatus();
}

function playOddEven(choice) {
  if (bet <= 0) return alert("배팅 필요");

  const r = Math.random() < 0.5 ? "홀" : "짝";
  const mul = (choice === r) ? 2 : -1;

  money += bet * mul;
  updateStatus();

  result.innerText = `결과: ${r} / 배율 ${mul}`;
}

function playLadder(num) {
  if (bet <= 0) return alert("배팅 필요");

  const ranks = [1,2,3,4,5].sort(() => Math.random() - 0.5);
  const rank = ranks[num - 1];
  const map = {1:3, 2:2, 3:0, 4:-1, 5:-2};
  const mul = map[rank];

  money += bet * mul;
  updateStatus();

  result.innerText = `${num}번 → ${rank}등 / ${mul}배`;
}

function updateStatus() {
  document.getElementById("money").innerText = money;
  document.getElementById("bet").innerText = bet;
}

function goMain() {
  game.classList.add("hidden");
  main.classList.remove("hidden");
}

// DOM
const main = document.getElementById("main");
const game = document.getElementById("game");
const moneyInput = document.getElementById("moneyInput");
const gameTitle = document.getElementById("gameTitle");
const oddArea = document.getElementById("oddArea");
const ladderArea = document.getElementById("ladderArea");
const result = document.getElementById("result");
const customBet = document.getElementById("customBet");
</script>

</body>
</html>
