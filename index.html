<script>
/* =====================
   쿨타임 상태
===================== */
const cooldown = {
  odd: false,
  ladder: false,
  slot: false
};

/* =====================
   공통 쿨타임 함수 (5초 카운트다운)
===================== */
function startCooldown(type, btn) {
  if (!btn) return;

  cooldown[type] = true;
  btn.disabled = true;

  let time = 5;
  const originText = btn.innerText;
  btn.innerText = `WAIT ${time}s`;

  const timer = setInterval(() => {
    time--;
    if (time > 0) {
      btn.innerText = `WAIT ${time}s`;
    } else {
      clearInterval(timer);
      cooldown[type] = false;
      btn.disabled = false;
      btn.innerText = originText;
    }
  }, 1000);
}

/* =====================
   홀짝
===================== */
function playOdd(btn) {
  if (cooldown.odd) return;

  startCooldown('odd', btn);

  // 기존 로직 그대로 쓰면 됨
  // ↓↓↓ 예시 ↓↓↓
  const win = Math.random() < 0.5;
  const bet = Number(document.getElementById('bet').value);

  if (win) {
    point += bet;
  } else {
    point -= bet;
  }

  updatePoint();
}

/* =====================
   사다리 (확률/배율 네가 준 값)
===================== */
function playLadder(btn) {
  if (cooldown.ladder) return;

  startCooldown('ladder', btn);

  const bet = Number(document.getElementById('bet').value);
  const r = Math.random() * 100;

  let multi = 0;

  if (r < 3) multi = 4;            // 1등 3%
  else if (r < 15) multi = 2;      // 2등 12%
  else if (r < 35) multi = 1;      // 3등 20%
  else if (r < 60) multi = 0;      // 4등 25%
  else multi = -1;                 // 5등 40%

  point += bet * multi;
  updatePoint();
}

/* =====================
   슬롯머신 (확률/배율 네가 준 값)
===================== */
function playSlot(btn) {
  if (cooldown.slot) return;

  startCooldown('slot', btn);

  const bet = Number(document.getElementById('bet').value);
  const r = Math.random() * 100;

  let multi = 0;

  if (r < 0.39) multi = 30;         // 5개 동일
  else if (r < 6.25) multi = 4;     // 4개 동일
  else if (r < 41.41) multi = 1;    // 3개 동일
  else multi = -2;                  // 2개 동일

  point += bet * multi;
  updatePoint();
}

/* =====================
   포인트 UI 업데이트
===================== */
function updatePoint() {
  document.getElementById('point').innerText = point;
}
</script>
